function ppp_facebook_update_color(){var e=jQuery("#title").val().length,t=jQuery("#ppp-facebook-details");t.text(e),pppSetLengthColors(e,t)}function ppp_facebook_reset_values(){fbpostLengthYellow=122,fbpostLengthRed=141}jQuery(document).ready(function(e){ppp_facebook_reset_values(),e("#title").val().length&&ppp_facebook_update_color(),e("#ppp-facebook-link-to-post, #ppp-facebook-cancel-ext").click(function(t){e("#ppp-facebook-post-link").toggle(),e("#ppp-facebook-ext-link").toggle(),e("#ppp-facebook-ext-notice").toggle()}),e("#ppp-facebook-ext-link").click(function(){e("select#ppp_facebook_link").val("0").trigger("chosen:updated")}),e(".ppp-facebook-select-chosen").chosen({inherit_select_classes:!0,placeholder_text_single:"Select A Post",placeholder_text_multiple:"Select Posts"}),e(".chosen-choices").on("click",function(){e(this).children("li").children("input").attr("placeholder","Type to search")});var t,p=342;e(".ppp-facebook-select.chosen-container .chosen-search input, .ppp-facebook-select.chosen-container .search-field input").keyup(function(n){var s=e(this).val(),c=e(this).closest(".ppp-facebook-select-chosen"),l=c.attr("id").replace("_chosen","");n.which;if(!(s.length<=3||16==n.which||13==n.which||91==n.which||17==n.which||37==n.which||38==n.which||39==n.which||40==n.which)){var o={};clearTimeout(t),t=setTimeout(function(){e.ajax({type:"GET",url:ajaxurl,data:{action:"ppp_facebook_post_search",s:s},dataType:"json",beforeSend:function(){e("ul.chosen-results").empty()},success:function(t){e("#"+l+" option:not(:selected)").remove(),e.each(t,function(t,p){e("#"+l+' option[value="'+p.id+'"]').length||e("#"+l).prepend('<option value="'+p.id+'">'+p.name+"</option>")}),e(".ppp-facebook-select-chosen").trigger("chosen:updated"),e("#"+l).next().find("input").val(s)}}).fail(function(e){window.console&&window.console.log&&console.log(o)}).done(function(e){})},p)}}),e("#ppp-facebook-ext-link-input").blur(function(){var t=e(this).val();ppp_facebook_reset_values(),t.length>0?(fbpostLengthYellow-=22,fbpostLengthRed-=22):ppp_facebook_reset_values(),ppp_facebook_update_color()}),e("#ppp_facebook_link").change(function(){var t=e(this).val();ppp_facebook_reset_values(),t>0?(fbpostLengthYellow-=22,fbpostLengthRed-=22):ppp_facebook_reset_values(),ppp_facebook_update_color()}),e("#ppp-facebook-cancel-ext").click(function(){e(".ppp-facebook-select-chosen").css("width","auto")}),e("#titlewrap #title").keyup(function(e){ppp_facebook_update_color()})});